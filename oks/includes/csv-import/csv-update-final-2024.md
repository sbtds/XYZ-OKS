# CSVインポート機能 最終更新 (2024年12月)

## 最終更新内容
CSVフォーマットが140項目の最新形式に対応しました。

## 項目数の変更履歴
- 旧形式: 95項目
- 第1回更新: 111項目
- **最新形式: 140項目**

## 主要な新規追加項目

### 1. 表示・DB関連項目
- A求人DB表示タイトル
- 表示用_想定年収

### 2. 詳細情報項目
- 転勤の可能性_詳細
- 契約期間の詳細

### 3. 公開用項目（エンドユーザー向け）
- 公開用_必須条件
- 公開用_歓迎条件
- 公開用_備考

### 4. エージェント用項目（Aプレフィックス）
- A選考フロー詳細情報
- A雇用期間（事業報告書用）
- A募集開始日（事業報告書用）
- A募集終了日（事業報告書用）
- A募集人数（事業報告書用）
- A取扱業務等の区分(2024)（事業報告書用）
- A有効期間
- A報酬パターン
- A報酬割合（料率）
- A報酬金額（定額）
- A報酬詳細
- A返金手数料
- A応募条件（年齢・性別・国籍・経験社数・学歴・学歴詳細・職種経験年数・業種経験年数・その他求める経験）
- A_NG対象
- A内定の可能性が高い人
- A推薦時の留意事項
- A面接確約条件・詳細
- A社名公開可否
- A媒体公開可否
- A公開可能範囲の詳細
- A求人入手元
- A求人ID（求人入手元）

### 5. おすすめポイント項目
- おすすめPOINT_1
- おすすめPOINT_2
- おすすめPOINT_3

### 6. 追加の福利厚生・働き方フラグ
- 資格取得支援制度あり
- 男性が活躍
- リモート面接OK
- 管理職・マネージャー職の求人
- 設立10年以上の会社
- ベンチャー企業
- 業種未経験OK

### 7. ハローワーク用表示項目（Hプレフィックス）
- H_従業員数
- H_本社住所
- H_URL
- H_設立年月
- H_株式公開
- H_仕事内容
- H_応募資格
- H_想定年収
- H_給与詳細
- H_勤務地
- H_勤務地詳細
- H_アクセス
- H_諸手当
- H_休日休暇
- H_勤務時間

## フィールドタイプ設定

### Boolean型（true/false）項目
- 各種「〜の有無」「〜の可否」項目
- 福利厚生・働き方関連フラグ
- 応募条件関連フラグ

### Textarea型（複数行テキスト）項目
- 詳細説明項目（仕事内容、給与詳細など）
- 条件・要件説明項目
- H項目の長文フィールド

### Number型（数値）項目
- 年収関連項目
- 報酬関連項目
- 人数関連項目

## 更新されたファイル

1. **class-csv-processor.php**
   - expected_columns: 140項目に更新
   - field_mapping: 全140項目のマッピング定義
   - boolean_fields: Boolean型項目の追加
   - textarea_fields: 長文項目の定義
   - 日付フィールドの処理更新

2. **class-admin-page.php**
   - 項目数表示を140に更新
   - 管理画面の説明を新形式対応に更新

3. **ドキュメントファイル**
   - csv-columns-140.txt: 全140項目の詳細リスト
   - csv-update-final-2024.md: 最終更新の記録

## 使用上の注意事項

1. **ファイル形式**: UTF-8（BOM付き）
2. **項目数**: 必ず140列すべてが必要
3. **Boolean値**: 「1」または「0」で指定
4. **数値**: カンマ区切りなしの数値
5. **日付**: YYYY-MM-DD形式

## 既存データとの互換性
- 旧形式（95項目、111項目）のCSVファイルは使用できません
- 新しい140項目形式に合わせてCSVファイルを再作成してください
- 新規追加項目は空でも可能ですが、カラム自体は必須です

## 今後の拡張性
このフォーマットは以下の用途に対応:
- 一般求人サイト向け表示
- エージェント用詳細管理
- ハローワーク連携
- 事業報告書作成
- おすすめ機能の充実